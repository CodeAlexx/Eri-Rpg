{
  "project": "erirpg",
  "version": "2.0.0",
  "saved_at": "2026-01-29T07:06:59.911769",
  "learnings": {
    "discuss.py": {
      "module_path": "discuss.py",
      "learned_at": "2026-01-26T20:30:42.550000",
      "summary": "Modified during: Apply changes: Add roadmap support to discuss mode: Add Milestone and Roadmap dataclasses to memory.py, update Discussion to include project field and embedded roadmap, add roadmap helper functions to discuss.py, add CLI commands (roadmap, roadmap-next, roadmap-add, roadmap-edit), update serialization",
      "purpose": "Apply changes: Add roadmap support to discuss mode: Add Milestone and Roadmap dataclasses to memory.py, update Discussion to include project field and embedded roadmap, add roadmap helper functions to discuss.py, add CLI commands (roadmap, roadmap-next, roadmap-add, roadmap-edit), update serialization",
      "key_functions": {},
      "key_params": {},
      "gotchas": [
        "Added roadmap support: Milestone and Roadmap dataclasses in memory.py, updated Discussion with project field and embedded roadmap, added roadmap helper functions to discuss.py, added CLI commands (roadmap, roadmap-add, roadmap-next, roadmap-edit)"
      ],
      "dependencies": [],
      "transplanted_to": null,
      "confidence": 1.0,
      "version": 1,
      "transplanted_from": null,
      "transplanted_to_list": [],
      "current_version": 0,
      "drift_pattern_id": null,
      "drift_confidence": 0.0,
      "is_outlier": false,
      "outlier_reason": null,
      "validated_by_drift": false,
      "implements": null,
      "registered_in": null,
      "hooks_into": [],
      "public_interface": [],
      "source_ref": {
        "path": "discuss.py",
        "content_hash": "3c7030b7e594261b6591827906e4105fc535bf4ef4328d9fb5698d511418005e",
        "mtime": 1769488128.6730328,
        "line_start": 1,
        "line_end": null
      }
    },
    "cli.py": {
      "module_path": "cli.py",
      "learned_at": "2026-01-26T22:43:34.165720",
      "summary": "Modified during: Create new files/functions",
      "purpose": "Create new files/functions",
      "key_functions": {},
      "key_params": {},
      "gotchas": [
        "Created config.py module and added config CLI command"
      ],
      "dependencies": [],
      "transplanted_to": null,
      "confidence": 1.0,
      "version": 1,
      "transplanted_from": null,
      "transplanted_to_list": [],
      "current_version": 0,
      "drift_pattern_id": null,
      "drift_confidence": 0.0,
      "is_outlier": false,
      "outlier_reason": null,
      "validated_by_drift": false,
      "implements": null,
      "registered_in": null,
      "hooks_into": [],
      "public_interface": [],
      "source_ref": {
        "path": "cli.py",
        "content_hash": "11f7ef18b1559aee0a08283b0a04db8c09fdaff8513e994acc4db30ea80377ba",
        "mtime": 1769495955.118116,
        "line_start": 1,
        "line_end": null
      }
    },
    "agent/__init__.py": {
      "module_path": "agent/__init__.py",
      "learned_at": "2026-01-26T22:47:48.145908",
      "summary": "Modified during: Connect new code to existing system",
      "purpose": "Connect new code to existing system",
      "key_functions": {},
      "key_params": {},
      "gotchas": [
        "Wired config into Agent, added parallelizable/depends_on to Step, allowed ~/.claude/ paths in hook"
      ],
      "dependencies": [],
      "transplanted_to": null,
      "confidence": 1.0,
      "version": 1,
      "transplanted_from": null,
      "transplanted_to_list": [],
      "current_version": 0,
      "drift_pattern_id": null,
      "drift_confidence": 0.0,
      "is_outlier": false,
      "outlier_reason": null,
      "validated_by_drift": false,
      "implements": null,
      "registered_in": null,
      "hooks_into": [],
      "public_interface": [],
      "source_ref": {
        "path": "agent/__init__.py",
        "content_hash": "7cf5dead8bced6ec2e82b80ed332c76586226a23b87cb6ad33e2e4b282e70916",
        "mtime": 1769496443.5740335,
        "line_start": 1,
        "line_end": null
      }
    },
    "memory.py": {
      "module_path": "memory.py",
      "learned_at": "2026-01-26T20:30:42.549911",
      "summary": "Modified during: Apply changes: Add roadmap support to discuss mode: Add Milestone and Roadmap dataclasses to memory.py, update Discussion to include project field and embedded roadmap, add roadmap helper functions to discuss.py, add CLI commands (roadmap, roadmap-next, roadmap-add, roadmap-edit), update serialization",
      "purpose": "Apply changes: Add roadmap support to discuss mode: Add Milestone and Roadmap dataclasses to memory.py, update Discussion to include project field and embedded roadmap, add roadmap helper functions to discuss.py, add CLI commands (roadmap, roadmap-next, roadmap-add, roadmap-edit), update serialization",
      "key_functions": {},
      "key_params": {},
      "gotchas": [
        "Added roadmap support: Milestone and Roadmap dataclasses in memory.py, updated Discussion with project field and embedded roadmap, added roadmap helper functions to discuss.py, added CLI commands (roadmap, roadmap-add, roadmap-next, roadmap-edit)"
      ],
      "dependencies": [],
      "transplanted_to": null,
      "confidence": 1.0,
      "version": 1,
      "transplanted_from": null,
      "transplanted_to_list": [],
      "current_version": 0,
      "drift_pattern_id": null,
      "drift_confidence": 0.0,
      "is_outlier": false,
      "outlier_reason": null,
      "validated_by_drift": false,
      "implements": null,
      "registered_in": null,
      "hooks_into": [],
      "public_interface": [],
      "source_ref": {
        "path": "memory.py",
        "content_hash": "a779d93ccf4f890181a217f2138c283731214b6c2372a322ea5c074938ce9ee3",
        "mtime": 1769488062.3629565,
        "line_start": 1,
        "line_end": null
      }
    },
    "spec.py": {
      "module_path": "spec.py",
      "learned_at": "2026-01-26T21:00:54.316204",
      "summary": "Spec dataclass with Step, SpecStep classes for execution specifications",
      "purpose": "Define structured execution specs with goals, steps, dependencies, and verification",
      "key_functions": {
        "Step": "Single step with action, targets, depends_on, verification, status tracking",
        "SpecStep": "Legacy goal-based step format",
        "Spec": "Complete spec with id, goal, project, steps list",
        "Spec.generate": "Create spec from goal using Planner",
        "Spec.load/save": "YAML persistence",
        "Spec.to_dict/from_dict": "Serialization"
      },
      "key_params": {
        "Spec.steps": "List[Step] - ordered execution steps",
        "Spec.verification": "List[str] - global verification commands",
        "Step.depends_on": "List[str] - step IDs this depends on"
      },
      "gotchas": [
        "Steps stored as list with dependency tracking via depends_on",
        "current_step_id tracks execution progress"
      ],
      "dependencies": [
        "yaml",
        "hashlib",
        "datetime",
        "pathlib"
      ],
      "transplanted_to": null,
      "confidence": 1.0,
      "version": 1,
      "transplanted_from": null,
      "transplanted_to_list": [],
      "current_version": 0,
      "drift_pattern_id": null,
      "drift_confidence": 0.0,
      "is_outlier": false,
      "outlier_reason": null,
      "validated_by_drift": false,
      "implements": null,
      "registered_in": null,
      "hooks_into": [],
      "public_interface": []
    },
    "agent/run.py": {
      "module_path": "agent/run.py",
      "learned_at": "2026-01-26T21:06:43.872585",
      "summary": "RunState class tracks run execution state with log, files_learned, files_edited. Has start_step, complete_step, fail_step methods. to_dict/from_dict for serialization. get_report() generates run reports.",
      "purpose": "Track execution state across sessions, allow resume",
      "key_functions": {
        "RunState.add_log": "Add entry to execution log",
        "RunState.start_step": "Mark step as in progress",
        "RunState.complete_step": "Mark step as completed with files_touched",
        "RunState.track_file_edit": "Track a file edit made through agent",
        "RunState.get_report": "Generate a run report dict",
        "RunState.to_dict": "Serialize run state",
        "RunState.from_dict": "Deserialize run state"
      },
      "key_params": {},
      "gotchas": [
        "Need to add Decision tracking for run summaries"
      ],
      "dependencies": [
        "erirpg.spec",
        "erirpg.agent.plan"
      ],
      "transplanted_to": null,
      "confidence": 1.0,
      "version": 1,
      "transplanted_from": null,
      "transplanted_to_list": [],
      "current_version": 0,
      "drift_pattern_id": null,
      "drift_confidence": 0.0,
      "is_outlier": false,
      "outlier_reason": null,
      "validated_by_drift": false,
      "implements": null,
      "registered_in": null,
      "hooks_into": [],
      "public_interface": []
    },
    "config.py": {
      "module_path": "config.py",
      "learned_at": "2026-01-26T22:38:34.944966",
      "summary": "Modified during: Understand where new code will integrate",
      "purpose": "Understand where new code will integrate",
      "key_functions": {},
      "key_params": {},
      "gotchas": [
        "Created config.py with MultiAgentConfig and ProjectConfig dataclasses"
      ],
      "dependencies": [],
      "transplanted_to": null,
      "confidence": 1.0,
      "version": 1,
      "transplanted_from": null,
      "transplanted_to_list": [],
      "current_version": 0,
      "drift_pattern_id": null,
      "drift_confidence": 0.0,
      "is_outlier": false,
      "outlier_reason": null,
      "validated_by_drift": false,
      "implements": null,
      "registered_in": null,
      "hooks_into": [],
      "public_interface": [],
      "source_ref": {
        "path": "config.py",
        "content_hash": "442ffc4e26b6f550dba2a0cce88ee9b154f0b75812ba30442a0ad8d757882892",
        "mtime": 1769495903.118881,
        "line_start": 1,
        "line_end": null
      }
    },
    "agent/plan.py": {
      "module_path": "agent/plan.py",
      "learned_at": "2026-01-26T22:47:48.145945",
      "summary": "Modified during: Connect new code to existing system",
      "purpose": "Connect new code to existing system",
      "key_functions": {},
      "key_params": {},
      "gotchas": [
        "Wired config into Agent, added parallelizable/depends_on to Step, allowed ~/.claude/ paths in hook"
      ],
      "dependencies": [],
      "transplanted_to": null,
      "confidence": 1.0,
      "version": 1,
      "transplanted_from": null,
      "transplanted_to_list": [],
      "current_version": 0,
      "drift_pattern_id": null,
      "drift_confidence": 0.0,
      "is_outlier": false,
      "outlier_reason": null,
      "validated_by_drift": false,
      "implements": null,
      "registered_in": null,
      "hooks_into": [],
      "public_interface": [],
      "source_ref": {
        "path": "agent/plan.py",
        "content_hash": "2c4932d14432cf06799e75c752e7f9490d88ca3a608b9a82988b607089f4fb32",
        "mtime": 1769496402.0958853,
        "line_start": 1,
        "line_end": null
      }
    },
    "hooks/pretooluse.py": {
      "module_path": "hooks/pretooluse.py",
      "learned_at": "2026-01-26T22:47:48.145982",
      "summary": "Modified during: Connect new code to existing system",
      "purpose": "Connect new code to existing system",
      "key_functions": {},
      "key_params": {},
      "gotchas": [
        "Wired config into Agent, added parallelizable/depends_on to Step, allowed ~/.claude/ paths in hook"
      ],
      "dependencies": [],
      "transplanted_to": null,
      "confidence": 1.0,
      "version": 1,
      "transplanted_from": null,
      "transplanted_to_list": [],
      "current_version": 0,
      "drift_pattern_id": null,
      "drift_confidence": 0.0,
      "is_outlier": false,
      "outlier_reason": null,
      "validated_by_drift": false,
      "implements": null,
      "registered_in": null,
      "hooks_into": [],
      "public_interface": [],
      "source_ref": {
        "path": "hooks/pretooluse.py",
        "content_hash": "5d5d88cb726a665cca1a3f0ce27e08591c5be6b928172b02b711d610dc68a01c",
        "mtime": 1769496417.1279392,
        "line_start": 1,
        "line_end": null
      }
    },
    "storage.py": {
      "module_path": "storage.py",
      "learned_at": "2026-01-29T07:06:59.911726",
      "summary": "Modified during: Test the implementation",
      "purpose": "Test the implementation",
      "key_functions": {},
      "key_params": {},
      "gotchas": [
        "Verified: SQLite storage working, migration successful (7/8 projects), cross-project queries <1ms"
      ],
      "dependencies": [],
      "transplanted_to": null,
      "confidence": 1.0,
      "version": 1,
      "transplanted_from": null,
      "transplanted_to_list": [],
      "current_version": 0,
      "drift_pattern_id": null,
      "drift_confidence": 0.0,
      "is_outlier": false,
      "outlier_reason": null,
      "validated_by_drift": false,
      "implements": null,
      "registered_in": null,
      "hooks_into": [],
      "public_interface": [],
      "source_ref": {
        "path": "storage.py",
        "content_hash": "c24f449b955a094d7376c509fb5c2bfc8f1fe60cb67f030661b41ba3605a5d30",
        "mtime": 1769699077.6121743,
        "line_start": 1,
        "line_end": null
      }
    },
    "indexer.py": {
      "module_path": "indexer.py",
      "learned_at": "2026-01-29T07:04:16.493754",
      "summary": "Modified during: Implement the feature",
      "purpose": "Implement the feature",
      "key_functions": {},
      "key_params": {},
      "gotchas": [
        "Updated indexer to save to SQLite, added CLI commands for db-stats, db-migrate, db-export, find-interface, find-package, find-dependents"
      ],
      "dependencies": [],
      "transplanted_to": null,
      "confidence": 1.0,
      "version": 1,
      "transplanted_from": null,
      "transplanted_to_list": [],
      "current_version": 0,
      "drift_pattern_id": null,
      "drift_confidence": 0.0,
      "is_outlier": false,
      "outlier_reason": null,
      "validated_by_drift": false,
      "implements": null,
      "registered_in": null,
      "hooks_into": [],
      "public_interface": [],
      "source_ref": {
        "path": "indexer.py",
        "content_hash": "d93c43764d7c13ad81d7583da533e01c1483bfe1999894ec50472918de7dd6e4",
        "mtime": 1769699002.911949,
        "line_start": 1,
        "line_end": null
      }
    },
    "cli_commands/storage_cmd.py": {
      "module_path": "cli_commands/storage_cmd.py",
      "learned_at": "2026-01-29T07:04:16.493803",
      "summary": "Modified during: Implement the feature",
      "purpose": "Implement the feature",
      "key_functions": {},
      "key_params": {},
      "gotchas": [
        "Updated indexer to save to SQLite, added CLI commands for db-stats, db-migrate, db-export, find-interface, find-package, find-dependents"
      ],
      "dependencies": [],
      "transplanted_to": null,
      "confidence": 1.0,
      "version": 1,
      "transplanted_from": null,
      "transplanted_to_list": [],
      "current_version": 0,
      "drift_pattern_id": null,
      "drift_confidence": 0.0,
      "is_outlier": false,
      "outlier_reason": null,
      "validated_by_drift": false,
      "implements": null,
      "registered_in": null,
      "hooks_into": [],
      "public_interface": [],
      "source_ref": {
        "path": "cli_commands/storage_cmd.py",
        "content_hash": "449d3e63a5b8b7a653590ea3059db85d462ccf534eb3a27be7077e2f10665acf",
        "mtime": 1769699040.7870762,
        "line_start": 1,
        "line_end": null
      }
    },
    "cli_commands/__init__.py": {
      "module_path": "cli_commands/__init__.py",
      "learned_at": "2026-01-29T07:04:16.493844",
      "summary": "Modified during: Implement the feature",
      "purpose": "Implement the feature",
      "key_functions": {},
      "key_params": {},
      "gotchas": [
        "Updated indexer to save to SQLite, added CLI commands for db-stats, db-migrate, db-export, find-interface, find-package, find-dependents"
      ],
      "dependencies": [],
      "transplanted_to": null,
      "confidence": 1.0,
      "version": 1,
      "transplanted_from": null,
      "transplanted_to_list": [],
      "current_version": 0,
      "drift_pattern_id": null,
      "drift_confidence": 0.0,
      "is_outlier": false,
      "outlier_reason": null,
      "validated_by_drift": false,
      "implements": null,
      "registered_in": null,
      "hooks_into": [],
      "public_interface": [],
      "source_ref": {
        "path": "cli_commands/__init__.py",
        "content_hash": "7a559dd965f242d7c043c21a6c1330ea48d9ddd21ac1af370e5988f290dc828d",
        "mtime": 1769699049.8981028,
        "line_start": 1,
        "line_end": null
      }
    }
  },
  "decisions": [
    {
      "id": "dec-001",
      "date": "2026-01-26T19:53:00.594548",
      "title": "Use JSON for storage",
      "reason": "Human-readable, easy debugging",
      "affects": [
        "memory.py",
        "registry.py"
      ],
      "alternatives": [
        "SQLite",
        "YAML"
      ]
    }
  ],
  "patterns": {
    "error-handling": "Use Result types, not exceptions"
  },
  "discussions": {},
  "runs": [],
  "user_decisions": [],
  "deferred_ideas": []
}